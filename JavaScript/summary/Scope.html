<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scope</title>
</head>
<body>
    <h1>유효범위</h1>
    <p>변수의 수명을 의미 (인식할 수 있는 범위)</p>

    <p>지역변수 local : 함수의 중괄호 안쪽에서만 접근할 수 있는 변수</p>
    <pre>
        var vscope = 'global';
        function fscope(){
            alert(vscope);
        }
        fscope();
        > global 출력
    </pre>

    <p>전역변수 global : 자바스크립트 전역에서 접근할 수 있는 변수</p>
    <pre>
        var vscope = 'global';
        function fscope(){
            var vscope = 'local';
            alert(vscope);
        }
        fscope();
        > local 출력
    </pre>
    <span>'var','let'이 붙어있지 않으면 전역변수가 됨</span>
    <p><i>전역변수는 각기 다른 로직에서 사용하는 같은 이름의 변수 값을 변경시켜 의도하지 않은 문제를 발생시킴</i></p>

    <p>익명함수 : 함수를 정의하고 바로 호출, 이름이 없음</p>
    <pre>
        (function (){
            ~~~코드~~~
        }()); 
        > 함수 안에 있는 코드 바로 실행
    </pre>

    <h2>정적 유효범위</h2>
    <p>자바스크립트는 함수가 선언된 시점에서 유효범위를 갖음 : 이러한 유효범위 방식을 정적 유효범위(static scoping),렉시컬(lexical scoping)이라 함</p>
    <pre>
        let i = 5;

        function a(){
            let i = 10;
            b();
        }

        function b(){
            document.write(i);
        }

        a();
        // '5' : b에서 i는 함수를 호출한 a의 i 변수를 가르키는게 아닌 위에 정의된 전역변수 i를 가르키게 됨
    </pre>
    
    <h3>보충</h3>
    <p><u>함수 밖에서 만든 변수(전역변수)는 함수 안,밖 두 곳에서 접근이 가능하지만, 함수 안에서 만든 변수(지역변수)는 함수 밖에서는 정의가 안된다.</u></p>
    <p>함수에서 변수를 호출할 때 내가 속한 공간에서 변수명을 먼저 찾고, 없을 때 중첩단계를 보는 식 : 마지막에 전역을 보게 될 것</p>
</body>
</html>